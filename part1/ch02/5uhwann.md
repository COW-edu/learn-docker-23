# 2장 도커의 기본적인 사용법

### 도커 이미지를 사용한 컨테이너 실행
- `docker container run {이미지 명}`
- 이미지를 통해 컨테이너를 실행하기 위해선 이미지 필요
  - 명령 실행 시점에 이미지가 존재하지 않다면 이미지 pull 실행

### 도커의 핵심 개념
- 빌드: 애플리케이션을 컨테이너에서 실행 가능하도록 패키징
- 공유: 다른 사람에게 공유
- 실행: 컨테이너를 통해 내려받은 패키지(이미지) 실행


## 컨테이너
- 도커 컨테이너는 애플리케이션과 애플리케이션을 실행할 컴퓨터 리소스가 포함되어 있다.
- 각 컨테이너가 실행되는 컴퓨터의 CPU, 메모리, 운영체제는 공유된다.

### 컨테이너 정보 확인
- `docker container ls`: 실행 중인 모든 컨테이너에 대한 정보 확인
- `docker container logs {컨테이너 ID}`: 컨테이너 수집 로그 확인
  - 애플리케이션이 출력하는 로그만 확인
- `docker container inspect {컨테이너 ID}`: 컨테이너의 상세 정보 확인

### `docker run`
- `--detach`: 컨테이너 백그라운드 실행 후 컨테이너 ID 출력
- `--publish`: 컨테이너 포트를 호스트 컴퓨터에 공개
- 도커는 호스트 컴퓨터의 네트워크 트래픽을 가로채 필요한 것을 컨테이너에 전달
  - 컨테이너의 포트가 공개되어야 가능

**추가 명령어**
- `docker stats {컨테이너 ID}`: 컨테이너의 상태 확인(CPU, 메모리, 네트워크, 디스크 사용량)
- `docker container rm --force $(docker container ls --all --quiet)`: 모든 컨테이너 삭제

## 도커 구조
- 도커 엔진
  - 도커의 관리 기능
  - 로컬 이미지 캐시 담당 -> 이미지가 필요 시 이미지 pull, 기존 이미지 존재 시 기존거 사용
  - 도커 리소스 생성
  - 항시 동작하는 백그라운드 프로세스
- 도커 API
  - 표준 HTTP 기반 REST API
  - 도커 엔진은 도커 API를 통해 기능 수행
- 도커 CLI
  - 도커 API 클라이언트
