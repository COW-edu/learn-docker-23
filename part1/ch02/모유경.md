# 컨테이너를 알아보자

`#docker` `#container`

### 목차

- [컨테이너](#✏️-컨테이너)
  - [구성 및 특징](#🔎-컨테이너가-뭐야)
  - [구조](#🔎-컨테이너의-구조)
  - [이점](#🔎-꼭-컨테이너를-써야해)
- [컨테이너의 실행](#✏️-컨테이너의-실행)
  - [워크플로](#🔎-워크플로)
  - [구성 컴포넌트](#🔎-도커의-구성-컴포넌트)
- [참고 문헌](#📖-참고-문헌)

<div style="height:100px"></div>

## ✏️ 컨테이너

### 🔎 컨테이너가 뭐야?

**구성**

- 애플리케이션
- 애플리케이션을 실행할 컴퓨터(IP주소, 컴퓨터 이름, 디스크 드라이브)

  - 호스트명, IP주소, 파일시스템은 도커가 만들어낸 가상 리소스로서 이들이 엮여 애플리케이션이 동작하는 환경이 만들어짐

**특징**

- 컨테이너의 내부에서는 외부 환경을 볼 수 없음
- 컨테이너는 특정 컴퓨터에서 동작되며, 이를 실행하는 컴퓨터는 CPU, 메모리, 운영체제를 공유하며 여러개의 컨테이너를 실행할 수 있음

### 🔎 컨테이너의 구조

  <img width="729" alt="컨테이너" src="https://github.com/COW-dev/ddingdong-fe/assets/75975946/49eca382-42e0-4d1e-a92d-826f19eddefb">

- 위 구조를 통해 격리(isolation), 밀집(density)를 동시에 만족가능

**밀집(density)**

- 의미: 컴퓨터의 성능이 허용하는 한 가장 많은 애플리케이션을 실행하는 것
- 발생하는 문제: 서로 다른 애플리케이션을 동시에 실행하는 데 제약이 따를 수 있음
  - 런타임의 버전 문제, 라이브러리 호환 문제, 일부 애플리케이션에서 리소스의 소모율 증가로인한 나머지 애플리케이션의 리소스 부족 등
- 해결 방안: 격리(isolation)를 통해 독립된 환경에서 실행
  - 한 컴퓨터는 여러 애플리케이션을 실행할 수 없음
  - 격리를 위해서는 가상머신 활용, 컨테이너 활용을 요구함

### 🔎 꼭 컨테이너를 써야해?

**격리를 가상머신으로 할 수도 있잖아?**

가상머신의 경우 호스트 컴퓨터의 운영체제를 공유하지않고 별도의 운영체제를 필요로 해. <br/> 운영체제를 각 가상머신이 별도로 갖는 것은 애플리케이션이 사용해야하는 CPU, 메모리 자원을 상당량 차지하고 운영체제의 라이선스 비용 및 업데이트 설치를 요구하기때문에 부담으로 작용하거든

<br/>

**컨테이너는 어떻게 다른데?**

각 컨테이너가 호스트 컴퓨터의 운영체제를 공유하는 구조라서 리소스를 경감 뿐만아니라, 빠른 실행과 가상머신에 비해 약 5배 많은 어플리케이션을 실행가능한 환경이 가능해

<div style="height:100px"></div>

## ✏️ 컨테이너의 실행

### 🔎 워크플로

- 빌드: 애플리케이션을 컨테이너에서 실행할 수 있도록 패키징
- 공유: 다른 사람이 패키지를 사용할 수 있도록 공유
- 실행: 패키지를 내려받은 사람이 컨테이너를 통해 애플리케이션을 실행

위 과정을 통해 도커가 이식성을 확보

> 이식성: 도커가 설치되어져 있다면 환경에 관계없이 일관성있게 컨테이너 실행 환경을 제공

### 🔎 도커의 구성 컴포넌트

- 도커 엔진(Docher Engine)
  - 도커의 관리기능을 맡음.
  - 도커 API를 통해 접근 가능
  - 백그라운드로 항시 동작하면서 컨테이너와 이미지를 관리
  - 새로운 이미지가 필요하면 이를 내려받고 로컬 이미지에 캐시해두어 기존에 이미지가 있다면 이를 사용
  - 호스트 운영체제와 함께 컨테이너, 가상 네트워크 등 도커 리소스를 만듦
- 도커 명령행 인터페이스(Docker CLI)
  - 도커 API의 클라이언트
- 도커 API
  - 표준 HTTP 기반 REST API

<div style="height:150px"></div>

### 📖 참고 문헌

- 도커 교과서 제 1부 도커 컨테이너와 이미지 이해하기 Ch02
