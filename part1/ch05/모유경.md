# 도커의 공유

`#docker` `#share`

### 목차

- [도커를 통한 공유](#✏️-도커를-통한-공유)
  - [공유](#🔎-공유)
  - [이미지 참조 image reference](#🔎-이미지-참조-image-reference)
- [참고 문헌](#📖-참고-문헌)

<div style="height:100px"></div>

## ✏️ 도커를 통한 공유

### 🔎 공유

- 로컬 컴퓨터에서 빌드한 이미지를 다른 사람이 사용하게끔 하는 것
- 개발한 소프트웨어를 모든 의존 모듈과 함께 패키징하여 어떤 환경에서도 쉽게 소프트웨어를 실행할 수 있게 도움

### 🔎 이미지 참조 image reference

로컬 컴퓨터에 이미지를 갖고있지않아도, 이미지 이름을 이용해 도커가 자동으로 이미지를 내려받아주고, 내려 받은 이미지는 서버(도커 레지스트리)에 저장된다.

> 도커허브
> : 도커 레지스트리중 가장 유명한 레지스트리로 도커 엔진에 기본으로 설정된 레지스트리이다.<br/>
> docker.io을 도메인으로 사용한다.

- 도커 이미지에는 이름이 부여되는데, 해당 이름에 이미지를 내려받기 위한 모든 정보가 들어있다.
- 이름은 하나 또는 두개의 이름 `image-gallery, diamol/golang`을 많이 사용하지만 실제로 전체 이름은 네 개의 요소로 구성된다. `docker.io/diamol/golang:latest`
  <img width="571" alt="스크린샷 2023-09-17 오전 10 21 39" src="https://github.com/youkyeong60/vanillaJS_SPA/assets/75975946/74daf539-ce01-44f6-93ca-19076216ae8b">
- 이미지참조가 레지스트리에서 특정한 이미지를 식별하는 식별자 역할을 한다.
- 레지스트리(도커 허브)와 태그(latest) 등의 정보는 따로 지정하지않아도 도커가 미리 정해진 기본값을 사용

<div style="height:100px"></div>
## ✏️ 멀웨어의 방지
 도커 허브에는 누구나 이미지를 푸시할 수 있고 그 이미지를 누구나 내려받을 수 있다. 이는 해커의 관점에서 멀웨어를 배포하기에 제격인 조건이다.

도커 허브는 검증된 퍼블리셔(verified publisher)와 공식 이미지(official image)제도를 통해 방지한다.

도커 허브를 통해 이미지를 배포하는 단체들 중에서도 큰 기업을 '검증된 퍼블리셔'로 지정하는데, 이들이 배포하는 이미지는 취약점 탐지 등의 승인 절차를 거쳐 공개됨, 이는 인증된 이미지이다.

공식 이미지로 배포되는 소프트웨어는 주로 오픈 소스 소프트웨어로 프로젝트 개발 팀과 도커가 함께 이미지를 관리하고 취약점 탐색을 거쳐 주기적으로 업데이트 되며, 최적화된 Dockerfile 스크립트로 구성됨
대부분 공식 이미지를 기반 이미지로 삼아 이미지를 빌드하기 시작하고, 직접 빌드한 이미지를 사용하다 보면 좀 더 많은것을 통제하고자 하는 시기가 온다. 이 시점에 자신이 선호하는 기반 이미지로 전환하는데, 이 이미지를 골든 이미지라고 한다.

<img width="499" alt="스크린샷 2023-09-18 오후 5 25 17" src="https://github.com/COW-edu/COW-23-Basic/assets/75975946/4a421fb8-9d88-4f49-9f5f-8f8af4085665">

골든 이미지는 공식 이미지를 기반 이미지 삼아 인증서나 환경 설정값 등 자신이 필요한 설정을 추가한 것

골든 이미지는 도커 허브의 기업 리포지터리나 자체 리포지터리에서 관리 되고 해당 기업의 모든 애플리케이션 이미지는 골든 이미지를 기반 이미지로 한다. 이런 방식은 프로젝트 개발 팀과 도커가 함께 최적화한 공식 이미지의 이점을 그대로 누리면서 필요한 설정을 추가할 수 있다는 것이 장점이다.

<div style="height:150px"></div>

### 📖 참고 문헌

도커 교과서 제 1부 도커 컨테이너와 이미지 이해하기 Ch05
