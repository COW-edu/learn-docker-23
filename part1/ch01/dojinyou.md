# 시작하기 전에

도커는 **컨테이너**라는 경량 단위로 애플리케이션을 실행하는 기능을 제공하는 플랫폼이다.

## 컨테이너가 IT 세상을 점령한 이유

도커는 마치 공기가 되어가는 중이다. 왜냐하면 프러덕트 출시가 아주 쉽고 유연성이 뛰어나 어떤 프로젝트든 도입할 수 있기 때문이다.

### 클라우드 환경으로 이주하기

클라우드 환경으로 이주는 기존에 크게 2가지 옵션이 있었다. PaaS와 IaaS이다. PaaS는 각 컴포넌트가 제공하는 클라우드 서비스 제공자의 매니지드 서비스에 종속된다. 운영비가 저렴하고 관리가 쉽지만 이주가 복잡하다. IaaS는 모두 가상 머신에서 독립적으로 동작한다. 이주 과정은 쉽지만 가상 머신의 성능을 완전히 활용하지 못하며 운영비가 비싸다.

Docker를 이용하며 이 2가지 옵션의 장점들을 모두 이용할 수 있다. 각 컴포넌트들은 컴테이너에서 동작하므로 독립적이면서 이식성이 뛰어나다. 또한 PaaS처럼 매니지드 서비스처럼 효율적으로 사용할 수 있다.

컨테이너로 이주하는 경우 어느 정도 비용이 필요하게 된다. 우선 DockerFile이라는 스크립트로 기존 설치 절차를 재작성해야하며 배포 관련 사항 역시 도커 컴포즈나 쿠버네티스에서 사용되는 애플리케이션 매니페스트로 재작성해야 한다.

### 레거시 애플리케이션 현대화 하기

컨테이너를 활용하며 모놀로틱 서비스보다 개별적인 컴포넌트로 분리하고 이를 이용한 마이크로 서비스의 다양한 장점을 누릴 수 있게 된다. 독립된 단위로 배포하고 필요한 기술을 선택할 수 있다.

### 클라우드 환경에 적합한 새로운 애플리케이션 개발하기

클라우드 네이티브 컴퓨팅 재단(CNCF)에서 클라우드 네이티브를 다음과 같이 정의한다.

<aside>
💡 오픈 소스 소프트웨어 스택을 통해 마이크로서비스 형태로 배포되는 애플리케이션으로, 각 컴포넌트가 별도의 컨테이너로 패키징되며 이들 컨테이너를 동적으로 오케스트레이션해 리소스 활용의 최적화를 꾀하는 어플리케이션.

</aside>

도커는 서드파티 소프트웨어 도입에 유리하다. 도커 허브를 통해 다른 사람이 작성한 컨테이너를 공유할 수 있다.

### 기술 혁신: 서버리스와 그 너머

서버 리스 기술은 곧 컨테이너 기술이다. 함수를 사용하는 측면에서 함수를 호출하면 이에 해당하는 서비스 인스턴스를 생성해 요청을 처리한다. 이 과정에서 일어나는 모든 일은 플랫폼이 처리한다.

### 데브옵스 도입하기

분리된 개발과 운영 환경에서 각각의 역할을 다른 도구를 사용한다. 이를 도커를 활용하며 하나의 환경으로 통합할 수 있다.

자동화는 컨테이너의 핵심이고 배포 프로세스와 운영로그로부터 측정치를 쉽게 활용하고 이미 있는 것들을 다시 만들지 않도록 노력을 절약한다.

## 대상 독자

이 책의 목표는 도커의 사용법을 배우는 것이다. 그만큼 내부 동작을 자세히 다루진 않는다.

## 실습 환경 구축하기

### 도커 설치

https://www.docker.com/products/docker-desktop/

```bash
> docker version
Client:
 Cloud integration: v1.0.35-desktop+001
 Version:           24.0.5
 API version:       1.43
 Go version:        go1.20.6
 Git commit:        ced0996
 Built:             Fri Jul 21 20:32:30 2023
 OS/Arch:           darwin/arm64
 Context:           desktop-linux

Server: Docker Desktop 4.22.1 (118664)
 Engine:
  Version:          24.0.5
  API version:      1.43 (minimum version 1.12)
  Go version:       go1.20.6
  Git commit:       a61e2b4
  Built:            Fri Jul 21 20:35:38 2023
  OS/Arch:          linux/arm64
  Experimental:     false
 containerd:
  Version:          1.6.21
  GitCommit:        3dce8eb055cbb6872793272b4f20ed16117344f8
 runc:
  Version:          1.1.7
  GitCommit:        v1.1.7-0-g860f061
 docker-init:
  Version:          0.19.0
  GitCommit:        de40ad0
```

```bash
> docker-compose version
Docker Compose version v2.20.2-desktop.1
```
