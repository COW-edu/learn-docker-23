# 4장 애플리케이션 소스코드에서 도커 이미지까지

## 멀티 스테이지 빌드
* 빌드가 여러 단계로 나뉘는 것을 말한다.
* 각 빌드 단계는 독립적으로 실행되며,어느 한 단계에서라도 명령이 실패하면 전체 빌드가 실패한다.
* 멀티 스테이지 빌드를 적용하여 프로젝트의 이식성을 향상시킬 수 있다.

## 멀티 스테이지 빌드 장점
* 표준화 : 특정 OS, 특정 도구와 상관없이 모든 빌드는 도커 컨테이너 내부에서 이뤄질 수 있다.
* 성능 향상 : 멀티 스테이지 빌드의 각 단계는 각각 캐시를 가진다.
  * 캐시 탐색에서 실패하면 이후 인스트럭션은 모두 실행되나, 범위가 해당 단계 내부로 제한된다.
* 이미지 파일 크기 최적화 : 특정 도구를 도구가 사용되는 단계에만 유연하게 적용시킬 수 있다. 최종 산출물 이미지에 불필요한 도구는 제외시켜 이미지 크기를 작게 유지할 수 있다.

### References
* 도커 교과서 - ch4. 애플리케이션 소스코드에서 도커 이미지까지